{"remainingRequest":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\src\\components\\admin\\Administrator.vue?vue&type=style&index=0&id=0c123fba&scoped=true&lang=less&","dependencies":[{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\src\\components\\admin\\Administrator.vue","mtime":1628309540000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYXZhdGFyIHsKICB3aWR0aDogMTAwcHg7CiAgaGVpZ2h0OiAxMDBweDsKICBib3JkZXI6IDJweCBzb2xpZCB3aGl0ZTsKICBib3gtc2hhZG93OiAwIDAgMTBweCAycHggcmdiYSgwLCAwLCAwLCAuMDYpOwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgouYXZhdGFyLXVwbG9hZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjE1KTsKICB6LWluZGV4OiAxMDAwMDsKICB3aWR0aDogMTAwcHg7CiAgaGVpZ2h0OiAxMDBweDsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBvcGFjaXR5OiAwOwp9CgouY2FtZXJhIHsKICB3aWR0aDogMzVweDsKICBoZWlnaHQ6IDM1cHg7CiAgYm9yZGVyLXJhZGl1czogNTAlOwp9CgouYXZhdGFyLXVwbG9hZDpob3ZlciB7CiAgb3BhY2l0eTogMTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5oZWFkZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OwoKICAuYXZhdGFyLWFyZWEgewogICAgd2lkdGg6IDEwMHB4OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogIH0KfQoKLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkIHsKICBib3JkZXI6IDFweCBkYXNoZWQgI2Q5ZDlkOTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdmVyZmxvdzogaGlkZGVuOwp9CgouYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQ6aG92ZXIgewogIGJvcmRlci1jb2xvcjogIzQwOUVGRjsKfQoKLmF2YXRhci11cGxvYWRlci1pY29uIHsKICBmb250LXNpemU6IDI4cHg7CiAgY29sb3I6ICM4YzkzOWQ7CiAgd2lkdGg6IDEyMHB4OwogIGhlaWdodDogMTIwcHg7CiAgbGluZS1oZWlnaHQ6IDEyMHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBib3JkZXI6IDJweCBkYXNoZWQgI2Q5ZDlkOTsKICBib3JkZXItcmFkaXVzOiAyMHB4Owp9CgoubmV3LWF2YXRhciB7CiAgd2lkdGg6IDEyMHB4OwogIGhlaWdodDogMTIwcHg7CiAgZGlzcGxheTogYmxvY2s7Cn0KCi5jaGFuZ2UtcGFzc3dvcmQgewogIGNvbG9yOiAjM2E4ZWU2OwogIGZvbnQtc2l6ZTogMTJweDsKICBtYXJnaW4tbGVmdDogMTBweDsKICBmb250LXdlaWdodDogbm9ybWFsOwp9CgouY2hhbmdlLXBhc3N3b3JkOmhvdmVyIHsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCg=="},{"version":3,"sources":["Administrator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Administrator.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div>\n    <el-card shadow=\"hover\" style=\"text-align: left;margin-bottom: 10px\">\n      <div class=\"header\">\n        <div class=\"avatar-area\">\n          <el-image class=\"avatar\" :src=\"userInfo.avatar\"></el-image>\n          <div class=\"avatar-upload\" @click=\"dialogVisible =true\">\n            <el-image class=\"camera\" :src=\"avatarUpload\"></el-image>\n          </div>\n        </div>\n        <div class=\"info\">\n          <h1 class=\"nickname\">{{userInfo.nickname}} <span class=\"change-password\" @click=\"changePassword()\">修改密码</span>\n          </h1>\n          <p class=\"email\">{{userInfo.email}}</p>\n        </div>\n      </div>\n    </el-card>\n    <el-card shadow=\"hover\">\n      <h1 class=\"el-card__header\" style=\"text-align: left;margin: 0\">基本信息</h1>\n      <el-form :data=\"userFrom\" label-width=\"100px\" label-position=\"left\"\n               style=\"text-align: left;width: 80%;margin-left: 30px;margin-top: 20px\">\n        <el-form-item label=\"用户类型\">\n          <div style=\"margin-left: 10px\">{{userFrom.type===1?'管理员':'普通用户'}}</div>\n        </el-form-item>\n        <el-form-item label=\"昵称\" prop=\"nickname\">\n          <el-input v-model=\"userFrom.nickname\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"userFrom.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"userFrom.email\"></el-input>\n        </el-form-item>\n      </el-form>\n      <el-button type=\"primary\" @click=\"changeUserInfo\">提交修改</el-button>\n\n    </el-card>\n    <el-dialog style=\"z-index: 20000\" title=\"上传头像\" :visible.sync=\"dialogVisible\">\n      <el-upload\n              v-if=\"uploading\"\n              class=\"avatar-uploader\"\n              action=\"http://hikari.top:8090/upload\"\n              :show-file-list=\"false\"\n              :on-success=\"handleAvatarSuccess\">\n        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"new-avatar\">\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n      </el-upload>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"setAvatar()\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n\n</template>\n\n<script>\nimport {mapState} from 'vuex'\n\nexport default {\n  data() {\n    return {\n      userFrom: {\n        nickname: '',\n        username: '',\n        email: ''\n      },\n      dialogVisible: false,\n      avatarHover: false,\n      uploading: true,\n      imageUrl: '',\n      avatarUpload: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFC0lEQVR4Xu2ba8ilUxTHf39J5H6NQiQSii80bjENNeEDmtw1Jb64jhqF1AwJZcow+EJqmnJLzIeZmkJoxMQXComkjCL3cckk+WvpOdM++33OOc9znufMeY9zVp0v77P22mv991prr7X3fsWUk6bcfmYAzDxgyhGYhcCUO8DOTYK2d6kCuKR/qvC1wTPSELB9CHAVcA5wGLBrRaX/Br4B3gKelfRdxXG12UYGgO3TgQeAvWtr1T3gN+BuSe82lFM6fCQA2D4eeBrYvSWltwPXS/q0JXk7xLQOgO3dwm2Bo1pW9kvgakl/tSl3FAAsA67JlHwKeB4Id65CETZXADdkzOskPVpFQFWeVgGwfXLh+qncjZJWVFUo5bN9H3BB8jcXofDhMPLKxrQGgO2I9+eAI5KJvgcuk1R15bt0tB2e8CJwcPJhK3ClpMgLjakyAIWBC4ATC4X2zGaPLS++pXSrpHeaaGn7TCB3+4+BfGv8AwjA49uWqgANBMD2PsB1wJKaWX29pPubGN8Za/se4OIassI7XgKekfRrv3F9AShi+mHggBqTB+u3wOWSYlUak+3wtheAQ2sK+wm4Q1LPnNETANvh7qtrVG8d3QL9myV9UFPZvuy2TwEer+mFITOqymWStlROgrYjka0D9soG/Qi8CnwBlK1uTPbRqErXorQ+qceihJccA5wPHJjp/TtwraRIoF1U6gG2HwHOzng3AKskhbB5S7Zj0ZYDF2VKbpZ0+0AAbEcmX5sxRjJ5ct5aXaKY7RuL5J1+XSopdokdNMcDbN8W7pLwfF64T7j3xJDt6DwjjI9NlJ5TSZYBEHX8ccmguyRF3E8c2Y588GCi+GeSoj3v6wGvA/smPIsl/dCG9cWqnAvE74SkwosC5hPgzfhJasXbbB8EbEp03yZpUU8AbIdHvJ8Zu6ANhWwvBCK8Dh8A5tdR+Ul6oynoBeD59neqpOgp/qOuECiOrN7LJj6tyRFVIfOWLK9UsS3id00Lc/e1Z2cAkCfVKsZ3eBq1v1UWdKQAFG4fpXROUVOsB+KQI+jootbP9+74FqXsUOEwVgCK+IuGJI35n4EVvTpE22cA9wL7J4hFTlgyTB4aNwDnAQ9lSz+wPS5AeCwbd6ek1+rETvCOG4BohRcnSm+QtLKKEbaDLw2HTZKiJa5F4wbgZeDIROM41a3UIRadX5wqd+grSZfWsn4eeMBmYI9E6UWStlUxwnYUYlGQdehPSXlzNlDUuD1g6gGY+hCY+iQ49dtg9OPTWwgVhUh0gNNZCnf2qJITpoHbV8Iw2c1QUo5ObzuceMI4DkTiSc54zwNSfx/Dkdj8AqBO8LfBO9ZSuA0DmsqoDUCRtN7O7t8WDnu/39SApuOL9wXpadJ2SWelcsvuBV7JHjlUbmObKtz2+JK2equkSwYBkNfwQz9xaduguvJsx/Hahcm4OQcrZR5QVsPH9XKExsSQ7XD1uN5Pac7RWhkAZTX8L8DKSQGhMD6O1fZLrC89XO11PR5XV6tKlnsjEDmi1/uAcXpI531AxHjq9h2dlkuKq7cu6vdCJMrXpeO0qMW510paUyavHwBRRd30PwAh3jo80euKrcorsQiHeP056FKzxQVrRVTE/Ooyt++7DZZNndXwnXeCbT2EbsVaIB5ndd4JVr5mH+gBvbSr+s8PbVk3SM6wt8hDAzBIoUn5PgNgUlZqVHrOPGBUyE6K3JkHTMpKjUrPfwGerYtf3LH0qAAAAABJRU5ErkJggg=='\n    }\n  },\n  computed: {\n    ...mapState([\n      'userInfo'\n    ])\n\n  },\n  created() {\n    this.getUserInfo()\n  },\n  methods: {\n    getUserInfo() {\n      this.userFrom = JSON.parse(window.sessionStorage.getItem('user'));\n    },\n    // 修改头像成功\n    handleAvatarSuccess(res) {\n      this.imageUrl = res.data\n    },\n    // 修改头像\n    async setAvatar() {\n      // console.log(this.imageUrl)\n      const {data: res} = await this.$blog.post('/admin/setAvatar', {\n        pic_url: this.imageUrl,\n        user_id: this.userInfo.id\n      })\n      // console.log(res.data)\n      this.userInfo = res.data\n      window.sessionStorage.setItem('user', JSON.stringify(this.userInfo))\n      window.location.reload()\n    },\n    async changeUserInfo() {\n      const {data: res} = await this.$blog.post('/admin/user', {\n        user: this.userFrom\n      })\n      console.log(res)\n      if (res.code === 200) {\n        window.sessionStorage.setItem(\"user\", JSON.stringify(res.data));\n        this.$store.commit('getUserInfo')\n        return this.$message.success(res.message)\n      } else {\n        return this.$message.error(res.message)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  .avatar {\n    width: 100px;\n    height: 100px;\n    border: 2px solid white;\n    box-shadow: 0 0 10px 2px rgba(0, 0, 0, .06);\n    border-radius: 50%;\n    box-sizing: border-box;\n  }\n\n  .avatar-upload {\n    background-color: rgba(0, 0, 0, 0.15);\n    z-index: 10000;\n    width: 100px;\n    height: 100px;\n    border-radius: 50%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    opacity: 0;\n  }\n\n  .camera {\n    width: 35px;\n    height: 35px;\n    border-radius: 50%;\n  }\n\n  .avatar-upload:hover {\n    opacity: 1;\n    cursor: pointer;\n  }\n\n  .header {\n    display: flex;\n    justify-content: flex-start;\n\n    .avatar-area {\n      width: 100px;\n      position: relative;\n      margin-right: 20px;\n    }\n  }\n\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n    border: 2px dashed #d9d9d9;\n    border-radius: 20px;\n  }\n\n  .new-avatar {\n    width: 120px;\n    height: 120px;\n    display: block;\n  }\n\n  .change-password {\n    color: #3a8ee6;\n    font-size: 12px;\n    margin-left: 10px;\n    font-weight: normal;\n  }\n\n  .change-password:hover {\n    cursor: pointer;\n  }\n\n</style>"]}]}