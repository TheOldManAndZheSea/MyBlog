{"remainingRequest":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\vue-waterfall2\\waterfall.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\vue-waterfall2\\waterfall.vue","mtime":499162500000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\文档\\张天赐\\练习代码\\VSCode\\个人博客\\前台\\myblog-frontend-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gcmVxdWlyZSgiYmFiZWwtcnVudGltZS9yZWdlbmVyYXRvciIpOw0KaW1wb3J0IGJ1cyBmcm9tICcuL2J1cycNCg0KCWV4cG9ydCBkZWZhdWx0ew0KCQlwcm9wczp7DQoJCQljb2w6ew0KCQkJCXR5cGU6TnVtYmVyLA0KCQkJCWRlZmF1bHQ6Mg0KCQkJfSwNCgkJCXdpZHRoOk51bWJlciwNCgkJCWhlaWdodDp7DQoJCQkJdHlwZTpTdHJpbmcNCgkJCQkvLyBkZWZhdWx0OicxMDB2aCcsICAgIOWPlua2iGhlaWdodOm7mOiupOWAvA0KCQkJfSwNCgkJCWRhdGE6ew0KCQkJCXR5cGU6QXJyYXksDQoJCQkJZGVmYXVsdDpbXQ0KCQkJfSwNCgkJCWd1dHRlcldpZHRoOnsNCgkJCQl0eXBlOk51bWJlciwNCgkJCQlkZWZhdWx0OjEwDQoJCQl9LA0KCQkJaXNUcmFuc2l0aW9uOnsNCgkJCQl0eXBlOkJvb2xlYW4sDQoJCQkJZGVmYXVsdDp0cnVlDQoJCQl9LA0KCQkJbGF6eURpc3RhbmNlOnsNCgkJCQl0eXBlOk51bWJlciwNCgkJCQlkZWZhdWx0OjMwMA0KCQkJfSwNCgkJCWxvYWREaXN0YW5jZTp7DQoJCQkJdHlwZTpOdW1iZXIsDQoJCQkJZGVmYXVsdDozMDANCgkJCX0NCg0KCQl9LA0KCQlkYXRhKCl7DQoJCQlyZXR1cm57DQoJCQkJcm9vdDpudWxsLA0KCQkJCWNvbHVtbnM6W10sDQoJCQkJbG9hZG1vcmU6dHJ1ZSwNCgkJCQl0aW1lb3V0Om51bGwsDQoJCQkJbGF6eVRpbWVvdXQ6bnVsbCwNCgkJCQlsYXN0U2Nyb2xsVG9wOjAsDQoJCQkJdGltZXI6bnVsbCwNCgkJCQlsb2FkZWRJbmRleDowLA0KCQkJCWNvbHVtbldpZHRoOjAsDQoJCQkJaXNyZXNpemluZzpmYWxzZSwNCgkJCQljbGllbnRIZWlnaHQ6ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCwNCgkJCQljbGllbnRXaWR0aDpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwNCgkJCX0NCgkJfSwNCgkJY29tcHV0ZWQ6ew0KCQkJdHJ1ZUxhenlEaXN0YW5jZSgpew0KCQkJCXJldHVybiB0aGlzLmNsaWVudFdpZHRoLzM3NSp0aGlzLmxhenlEaXN0YW5jZQ0KCQkJfSwNCgkJCW1heCgpew0KCQkJCXJldHVybiB0aGlzLmNsaWVudFdpZHRoLzM3NSp0aGlzLmxvYWREaXN0YW5jZQ0KCQkJfQ0KCQl9LA0KCQl3YXRjaDp7DQoJCQljb2wodmFsKXsNCgkJCQl0aGlzLiRuZXh0VGljaygoKT0+ew0KCQkJCQl0aGlzLmluaXQoKQ0KCQkJCX0pDQoJCQl9LA0KCQkJZGF0YShuZXdWYWwsb2xkVmFsKXsNCgkJCQl0aGlzLiRuZXh0VGljaygoKT0+ew0KCQkJCQljbGVhclRpbWVvdXQodGhpcy50aW1lcikNCgkJCQkJdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCk9PnsNCgkJCQkJCWlmKHRoaXMuaXNyZXNpemluZykNCgkJCQkJCXsNCgkJCQkJCQlyZXR1cm4NCgkJCQkJCX0NCgkJCQkJCWlmKG5ld1ZhbC5sZW5ndGg8dGhpcy5sb2FkZWRJbmRleCkNCgkJCQkJCXsNCgkJCQkJCQl0aGlzLmxvYWRlZEluZGV4ID0gMA0KCQkJCQkJfQ0KCQkJCQkJaWYobmV3VmFsLmxlbmd0aD5vbGRWYWwubGVuZ3RoIHx8IG5ld1ZhbC5sZW5ndGg+dGhpcy5sb2FkZWRJbmRleCkNCgkJCQkJCXsNCgkJCQkJCQlpZihuZXdWYWwubGVuZ3RoID09PSBvbGRWYWwubGVuZ3RoKQ0KCQkJCQkJCXsNCgkJCQkJCQkJdGhpcy5yZXNpemUodGhpcy5sb2FkZWRJbmRleD4wP3RoaXMubG9hZGVkSW5kZXg6bnVsbCkNCgkJCQkJCQkJcmV0dXJuDQoJCQkJCQkJfQ0KCQkJCQkJCXRoaXMucmVzaXplKG9sZFZhbC5sZW5ndGg+MD9vbGRWYWwubGVuZ3RoOm51bGwpDQoJCQkJCQl9DQoJCQkJCX0sMzAwKQ0KCQkJCX0pDQoJCQl9DQoJCX0sDQoJCW1ldGhvZHM6ew0KCQkJaW5pdCgpeyAgIC8vaW5pdGlhbGl6ZQ0KCQkJCXRoaXMucm9vdCA9IHRoaXMuJHJlZnMudnVlV2F0ZXJmYWxsDQoJCQkJdGhpcy5jbGVhckNvbHVtbigpDQoJCQkJdmFyIGNvbCA9IHBhcnNlSW50KHRoaXMuY29sKQ0KCQkJCWZvcih2YXIgaSA9MDtpPGNvbDtpKyspew0KCQkJCQlsZXQgb2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpDQoJCQkJCW9kaXYuY2xhc3NOYW1lID0gJ3Z1ZS13YXRlcmZhbGwtY29sdW1uJw0KCQkJCQlpZih0aGlzLndpZHRoKQ0KCQkJCQl7DQoJCQkJCQlvZGl2LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCcNCgkJCQkJCWlmKGkgIT0gMCkNCgkJCQkJCXsNCgkJCQkJCQlvZGl2LnN0eWxlLm1hcmdpbkxlZnQgPSB0aGlzLmd1dHRlcldpZHRoICsgJ3B4Jw0KCQkJCQkJfQ0KCQkJCQkJdGhpcy5jb2x1bW5XaWR0aCA9IHRoaXMud2lkdGgNCgkJCQkJfQ0KCQkJCQllbHNlew0KCQkJCQkJb2Rpdi5zdHlsZS53aWR0aCA9IDEwMC9wYXJzZUludChjb2wpICsnJScNCgkJCQkJCXRoaXMuY29sdW1uV2lkdGggPSAxMDAvcGFyc2VJbnQoY29sKS8xMDAgKiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgNCgkJCQkJfQ0KCQkJCQlpZighdGhpcy5yb290KQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnJvb3QgPSB0aGlzLiRyZWZzLnZ1ZVdhdGVyZmFsbA0KCQkJCQl9DQoJCQkJCXRoaXMucm9vdCYmdGhpcy5yb290LmFwcGVuZENoaWxkKG9kaXYpDQoJCQkJCXRoaXMuY29sdW1ucy5wdXNoKG9kaXYpDQoJCQkJfQ0KCQkJCXRoaXMucmVzaXplKCkNCgkJCX0sDQoJCQlhc3luYyBfX3NldERvbUltYWdlSGVpZ2h0KGRvbSkNCgkJCXsNCgkJCQlpZighZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKQ0KCQkJCXsNCgkJCQkJcmV0dXJuDQoJCQkJfQ0KCQkJCXZhciBpbWdzID0gZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKQ0KCQkJCWZvcih2YXIgaT0wO2k8aW1ncy5sZW5ndGg7aSsrKQ0KCQkJCXsNCgkJCQkJdmFyIGxhenlTcmMgPSBpbWdzW2ldLmdldEF0dHJpYnV0ZSgnbGF6eS1zcmMnKQ0KCQkJCQlpZighaW1nc1tpXS5nZXRBdHRyaWJ1dGUoJ3NyYycpJiZsYXp5U3JjKQ0KCQkJIAkJew0KCQkJCQkJIHZhciBuZXdJbWcgPSBuZXcgSW1hZ2UoKQ0KCQkJCQkJIG5ld0ltZy5zcmMgPSBsYXp5U3JjDQoJCQkJCQkgaWYobmV3SW1nLmNvbXBsZXRlKQ0KCQkJCQkJIHsNCgkJCQkJCSAJdmFyIHRydWVXaWR0aCA9IGltZ3NbaV0ub2Zmc2V0V2lkdGggfHwgdGhpcy5jb2x1bW5XaWR0aA0KCQkJCQkJCXZhciBpbWdDb2x1bW5IZWlnaHQgPSBuZXdJbWcuaGVpZ2h0KnRydWVXaWR0aC9uZXdJbWcud2lkdGgNCgkJCQkJCQlpZihpbWdzW2ldLm9mZnNldFdpZHRoKQ0KCQkJCQkJCXsNCgkJCQkJCQkJaW1nc1tpXS5zdHlsZS5oZWlnaHQgPSBpbWdDb2x1bW5IZWlnaHQrJ3B4Jw0KCQkJCQkJCX0NCgkJCQkJCSB9DQoJCQkJCQkgZWxzZXsNCgkJCQkJCQkgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+ew0KCQkJCQkJCQkgbmV3SW1nLm9ubG9hZCA9ICBmdW5jdGlvbigpew0KCQkJCQkJCQkJIA0KCQkJCQkJCQkgCXZhciB0cnVlV2lkdGggPSBpbWdzW2ldLm9mZnNldFdpZHRoIHx8IHRoaXMuY29sdW1uV2lkdGgNCgkJCQkJCQkJIAl2YXIgaW1nQ29sdW1uSGVpZ2h0ID0gbmV3SW1nLmhlaWdodCp0cnVlV2lkdGgvbmV3SW1nLndpZHRoDQoJCQkJCQkJCQlpZihpbWdzW2ldLm9mZnNldFdpZHRoKQ0KCQkJCQkJCQkJew0KCQkJCQkJCQkJCWltZ3NbaV0uc3R5bGUuaGVpZ2h0ID0gaW1nQ29sdW1uSGVpZ2h0KydweCcNCgkJCQkJCQkJCX0NCgkJCQkJCQkJCXJlc29sdmUoKQ0KCQkJCQkJCQl9DQoJCQkJCQkJCW5ld0ltZy5vbmVycm9yPSAgZnVuY3Rpb24oKXsNCgkJCQkJCQkJCXJlc29sdmUoKQ0KCQkJCQkJCQl9DQoJCQkJCQkJIH0pDQoJCQkJCQkgfQ0KCQkJIAkJfQ0KCQkJCX0JCQkgCQ0KCQkJfSwNCgkJCWFzeW5jIGFwcGVuZChkb20peyAgIC8vYXBwZW5kIGRvbSBlbGVtZW50DQoJCQkJdmFyIHNlbGYgPSB0aGlzDQoJCQkJaWYodGhpcy5jb2x1bW5zLmxlbmd0aD4wKQ0KCQkJCXsNCgkJCQkJbGV0IG1pbiA9IHRoaXMuY29sdW1uc1swXQ0KCQkJCQkJZm9yKHZhciBpPTE7aTx0aGlzLmNvbHVtbnMubGVuZ3RoO2krKyl7DQoJCQkJCQkJaWYoYXdhaXQgc2VsZi5fX2dldEhlaWdodChtaW4pPmF3YWl0IHNlbGYuX19nZXRIZWlnaHQoc2VsZi5jb2x1bW5zW2ldKSl7DQoJCQkJCQkJCW1pbiA9IHNlbGYuY29sdW1uc1tpXQ0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJYXdhaXQgdGhpcy5fX3NldERvbUltYWdlSGVpZ2h0KGRvbSkNCgkJCQkJbWluICYmIG1pbi5hcHBlbmRDaGlsZChkb20pDQoJCQkJfQ0KCQkJfSwNCgkJCWNoZWNrSW1nKGRvbSl7ICAgLy9jaGVjayBoYXMgaW1hZ2UNCgkJCQlpZighZG9tKQ0KCQkJCXsNCgkJCQkJcmV0dXJuIGZhbHNlDQoJCQkJfQ0KCQkJCWlmKGRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKS5sZW5ndGgpDQoJCQkJew0KCQkJCQlyZXR1cm4gdHJ1ZQ0KCQkJCX0NCgkJCQllbHNlew0KCQkJCQlyZXR1cm4gZmFsc2UNCgkJCQl9DQoJCQl9LA0KCQkJYXN5bmMgcmVzaXplKGluZGV4LGVsZW1lbnRzKXsgICAgIC8vcmVzaXplIGFuZCByZW5kZXINCgkJCQl0aGlzLmlzcmVzaXppbmcgPSB0cnVlDQoJCQkJdGhpcy5yb3V0ZUNoYW5nZWQgPSBmYWxzZSAgLy8g6YeN572ucm91dGVDaGFuZ2VkDQoJCQkJdmFyIHNlbGYgPSB0aGlzDQoJCQkJaWYoIXRoaXMuJHNsb3RzLmRlZmF1bHQpew0KCQkJCQl0aGlzLmlzcmVzaXppbmcgPSBmYWxzZQ0KCQkJCQlyZXR1cm4NCgkJCQl9DQoJCQkJaWYoIWluZGV4JiZpbmRleCE9MCYmIWVsZW1lbnRzKQ0KCQkJCXsNCgkJCQkJZWxlbWVudHMgPSB0aGlzLiRzbG90cy5kZWZhdWx0DQoJCQkJCXRoaXMubG9hZGVkSW5kZXggPSAwDQoJCQkJCXRoaXMuY2xlYXIoKQ0KCQkJCX0NCgkJCQllbHNlIGlmKCFlbGVtZW50cyl7DQoJCQkJCXRoaXMubG9hZGVkSW5kZXggPSBpbmRleA0KCQkJCQllbGVtZW50cyA9IHRoaXMuJHNsb3RzLmRlZmF1bHQuc3BsaWNlKGluZGV4KQ0KCQkJCX0NCg0KCQkJCWZvcih2YXIgaj0wO2o8ZWxlbWVudHMubGVuZ3RoO2orKyl7DQoJCQkJCWlmKHRoaXMucm91dGVDaGFuZ2VkKXsNCgkJCQkJCWNvbnNvbGUud2Fybign6Lev55Sx5Y+R55Sf5Y+Y5YyW77yMPHZ1ZS13YXRlcmZhbGw+57uE5Lu25YGc5q2i5riy5p+TJykNCgkJCQkJCWJyZWFrDQoJCQkJCX0NCgkJCQkJaWYoZWxlbWVudHNbal0uZWxtJiZzZWxmLmNoZWNrSW1nKGVsZW1lbnRzW2pdLmVsbSkpDQoJCQkJCXsNCgkJCQkJCXZhciBpbWdzID0gZWxlbWVudHNbal0uZWxtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKQ0KCQkJCQkJdmFyIG5ld0ltZyA9IG5ldyBJbWFnZSgpDQoJCQkJCQluZXdJbWcuc3JjID0gaW1nc1swXS5nZXRBdHRyaWJ1dGUoJ3NyYycpIHx8IGltZ3NbMF0uZ2V0QXR0cmlidXRlKCdsYXp5LXNyYycpDQoJCQkJCQlpZihuZXdJbWcuY29tcGxldGUpDQoJCQkJCQl7DQoJCQkJCQkJYXdhaXQgc2VsZi5hcHBlbmQoZWxlbWVudHNbal0uZWxtKQkNCgkJCQkJCQlzZWxmLmxhenlMb2FkKGltZ3MpDQoJCQkJCQl9DQoJCQkJCQllbHNlew0KCQkJCQkJCWF3YWl0IG5ldyBQcm9taXNlKCAocmVzb2x2ZSxyZWplY3QpPT57DQoJCQkJCQkJCW5ld0ltZy5vbmxvYWQgPSBhc3luYyBmdW5jdGlvbigpew0KCQkJCQkJCQkJYXdhaXQgc2VsZi5hcHBlbmQoZWxlbWVudHNbal0uZWxtKQ0KCQkJCQkJCQkJc2VsZi5sYXp5TG9hZChpbWdzKQ0KCQkJCQkJCQkJcmVzb2x2ZSgpDQoJCQkJCQkJCX0NCgkJCQkJCQkJbmV3SW1nLm9uZXJyb3I9IGFzeW5jIGZ1bmN0aW9uKGUpew0KCQkJCQkJCQkJYXdhaXQgc2VsZi5hcHBlbmQoZWxlbWVudHNbal0uZWxtKQ0KCQkJCQkJCQkJc2VsZi5sYXp5TG9hZChpbWdzKQ0KCQkJCQkJCQkJcmVzb2x2ZSgpDQoJCQkJCQkJCX0NCgkJCQkJCQl9KQ0KCQkJCQkJfQ0KCQkJCQkJDQoJCQkJCX0NCgkJCQkJZWxzZXsNCgkJCQkJCWF3YWl0IHNlbGYuYXBwZW5kKGVsZW1lbnRzW2pdLmVsbSkNCgkJCQkJfQ0KCQkJCQlzZWxmLmxvYWRlZEluZGV4KysNCgkJCQl9DQoJCQkJdGhpcy5pc3Jlc2l6aW5nID0gZmFsc2UNCgkJCQlzZWxmLiRlbWl0KCdmaW5pc2gnKQ0KCQkJCQ0KCQkJfSwNCgkJCWNvbXB1dGVkUHgoaW1nLGltZ0FwaSl7DQoNCgkJCQlpbWcuc3R5bGUud2lkdGggPSBpbWdBcGkud2lkdGgvdGhpcy5jb2x1bW5XaWR0aA0KCQkJfSwNCgkJCWxhenlMb2FkKGltZ3MpeyAgDQoJCQkJaWYoIWltZ3MpDQoJCQkJew0KCQkJCQlpZighdGhpcy5yb290KQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnJvb3QgPSB0aGlzLiRyZWZzLnZ1ZVdhdGVyZmFsbA0KCQkJCQl9DQoJCQkJCWltZ3MgPSB0aGlzLnJvb3QmJnRoaXMucm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJykNCgkJCQl9DQoNCgkJCQlpZighaW1ncyB8fCBpbWdzLmxlbmd0aDwwKQ0KCQkJCXsNCgkJCQkJcmV0dXJuDQoJCQkJfQ0KCQkJCWZvcih2YXIgaW5kZXg9MDtpbmRleDxpbWdzLmxlbmd0aDsgaW5kZXgrKykNCgkJCQl7DQoJCQkJCWlmKGltZ3NbaW5kZXhdLmNsYXNzTmFtZS5tYXRjaCgnYW5pbWF0aW9uJykmJmltZ3NbaW5kZXhdLmdldEF0dHJpYnV0ZSgnc3JjJykpDQoJCQkJCXsNCgkJCQkJCWNvbnRpbnVlDQoJCQkJCX0NCgkJCQkJZWxzZSBpZihpbWdzW2luZGV4XS5jbGFzc05hbWUubWF0Y2goJ2FuaW1hdGlvbicpJiYhaW1nc1tpbmRleF0uZ2V0QXR0cmlidXRlKCdzcmMnKSkNCgkJCQkJew0KCQkJCQkJaW1nc1tpbmRleF0uc3JjID0gaW1nc1tpbmRleF0uZ2V0QXR0cmlidXRlKCdsYXp5LXNyYycpDQoJCQkJCQlpbWdzW2luZGV4XS5yZW1vdmVBdHRyaWJ1dGUoJ2xhenktc3JjJykNCgkJCQkJfQ0KCQkJCQllbHNlIGlmKGltZ3NbaW5kZXhdLmdldEF0dHJpYnV0ZSgnc3JjJykmJiFpbWdzW2luZGV4XS5jbGFzc05hbWUubWF0Y2goJ2FuaW1hdGlvbicpKXsNCgkJCQkJCWltZ3NbaW5kZXhdLmNsYXNzTmFtZSA9IGltZ3NbaW5kZXhdLmNsYXNzTmFtZSArICcgYW5pbWF0aW9uJw0KCQkJCQl9DQoJCQkJCWVsc2UgaWYoIWltZ3NbaW5kZXhdLmdldEF0dHJpYnV0ZSgnc3JjJykmJmltZ3NbaW5kZXhdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDx0aGlzLmNsaWVudEhlaWdodCt0aGlzLnRydWVMYXp5RGlzdGFuY2UpDQoJCQkJCXsNCgkJCQkJCWltZ3NbaW5kZXhdLnNyYyA9IGltZ3NbaW5kZXhdLmdldEF0dHJpYnV0ZSgnbGF6eS1zcmMnKQ0KCQkJCQkJaW1nc1tpbmRleF0uY2xhc3NOYW1lID0gaW1nc1tpbmRleF0uY2xhc3NOYW1lICsgJyBhbmltYXRpb24nDQoJCQkJCQlpbWdzW2luZGV4XS5yZW1vdmVBdHRyaWJ1dGUoJ2xhenktc3JjJykNCgkJCQkJfQ0KCQkJCX0NCgkJCX0sDQoJCQljbGVhckNvbHVtbigpew0KCQkJCXRoaXMuY29sdW1ucy5mb3JFYWNoKChpdGVtKT0+ew0KCQkJCQlpdGVtLnJlbW92ZSgpDQoJCQkJfSkNCgkJCQl0aGlzLmNvbHVtbnM9W10NCgkJCX0sDQoJCQljbGVhcigpew0KCQkJCXRoaXMuY29sdW1ucy5mb3JFYWNoKChpdGVtKT0+ew0KCQkJCQlpdGVtLmlubmVySFRNTCA9ICcnDQoJCQkJfSkNCgkJCX0sDQoJCQltaXgoKXsNCgkJCQl2YXIgZWxlbWVudHMgPSB0aGlzLiRzbG90cy5kZWZhdWx0DQoJCQkJZWxlbWVudHMuc29ydCgoKT0+e3JldHVybiBNYXRoLnJhbmRvbSgpLTAuNX0pDQoJCQkJdGhpcy5yZXNpemUoMCxlbGVtZW50cykNCgkJCX0sDQoJCQlhc3luYyBfX2dldEhlaWdodChkb20pew0KCQkJIAlyZXR1cm4gZG9tLm9mZnNldEhlaWdodA0KCQkJfSwNCgkJCV9fZW1pdExvYWRNb3JlKCl7DQoJCQkJaWYoIXRoaXMucm9vdCkNCgkJCQl7DQoJCQkJCXJldHVybg0KCQkJCX0NCgkJCQl2YXIgc2VsZiA9IHRoaXMNCgkJCQljb25zdCBzY3JvbGxUb3AgPSAgdGhpcy5oZWlnaHQ/dGhpcy5yb290LnNjcm9sbFRvcCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wDQoJCQkJY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5oZWlnaHQ/dGhpcy5yb290LnNjcm9sbEhlaWdodCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQNCgkJCQl2YXIgZGlmZiA9IHNjcm9sbEhlaWdodCAtIHNjcm9sbFRvcCAtIHNlbGYuY2xpZW50SGVpZ2h0DQoJCQkJc2VsZi4kZW1pdCgnc2Nyb2xsJyx7c2Nyb2xsSGVpZ2h0OnNjcm9sbEhlaWdodCxzY3JvbGxUb3A6c2Nyb2xsVG9wLGNsaWVudEhlaWdodDpzZWxmLmNsaWVudEhlaWdodCxkaWZmOmRpZmYsdGltZTpEYXRlLm5vdygpfSkNCgkJCQlpZihkaWZmIDxzZWxmLm1heCYmc2VsZi5sb2FkbW9yZSYmc2Nyb2xsSGVpZ2h0PnNlbGYuY2xpZW50SGVpZ2h0KXsNCgkJCQkJc2VsZi5sYXN0U2Nyb2xsVG9wID0gIHNjcm9sbFRvcA0KCQkJCQlzZWxmLmxvYWRtb3JlID0gZmFsc2UNCgkJCQkJc2VsZi4kZW1pdCgnbG9hZG1vcmUnKQ0KCQkJCX0NCgkJCQllbHNlIGlmKGRpZmY+PXNlbGYubWF4KXsNCgkJCQkJc2VsZi5sb2FkbW9yZSA9IHRydWUNCgkJCQl9DQoJCQkJY2xlYXJUaW1lb3V0KHNlbGYubGF6eVRpbWVvdXQpDQoJCQkJc2VsZi5sYXp5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCgkJCQkJc2VsZi5sYXp5TG9hZCgpDQoJCQkJfSwxNCkNCgkJCX0sDQoNCgkJCS8vIOebkeWQrOi3r+eUseaYr+WQpuWPkeeUn+WPmOWMlg0KCQkJX19saXN0ZW5Sb3V0ZXJDaGFuZ2UgKCkgew0KCQkJCS8vIOmHjeWGmXB1c2hTdGF0ZeS4jnJlcGxhY2VTdGF0ZeS6i+S7tuWHveaVsA0KCQkJCXZhciBfd3IgPSBmdW5jdGlvbiAodHlwZSkgew0KCQkJCQkvLyDorrDlvZXljp/nlJ/kuovku7YNCgkJCQkJdmFyIG9yaWcgPSBoaXN0b3J5W3R5cGVdOw0KCQkJCQlyZXR1cm4gZnVuY3Rpb24gKCkgew0KCQkJCQkJLy8g6Kem5Y+R5Y6f55Sf5LqL5Lu2DQoJCQkJCQl2YXIgcnYgPSBvcmlnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7DQoJCQkJCQkvLyDoh6rlrprkuYnkuovku7YNCgkJCQkJCXZhciBlID0gbmV3IEV2ZW50KHR5cGUpOw0KCQkJCQkJZS5hcmd1bWVudHMgPSBhcmd1bWVudHM7DQoJCQkJCQkvLyDop6blj5Hoh6rlrprkuYnkuovku7YNCgkJCQkJCXdpbmRvdy5kaXNwYXRjaEV2ZW50KGUpOw0KCQkJCQkJcmV0dXJuIHJ2Ow0KCQkJCQl9DQoJCQkJfQ0KCQkJCWNvbnN0IGV2ZW50cyA9IFsncmVwbGFjZVN0YXRlJywncHVzaFN0YXRlJ10NCgkJCQlldmVudHMuZm9yRWFjaChldmVudCA9PiB7DQoJCQkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoKT0+ew0KCQkJCQkJdGhpcy5yb3V0ZUNoYW5nZWQgPSB0cnVlDQoJCQkJCX0pDQoJCQkJCS8vIOmHjeWGmWhpc3RvcnkNCgkJCQkJd2luZG93Lmhpc3RvcnlbZXZlbnRdID0gX3dyKGV2ZW50KQ0KCQkJCX0pDQoJCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgKCk9PnsNCgkJCQkJdGhpcy5yb3V0ZUNoYW5nZWQgPSB0cnVlDQoJCQkJfSkNCg0KCQkJfSwNCgkJfSwNCgkJDQoJCWRlc3Ryb3llZCgpIHsNCgkJCXRoaXMucm9vdCAmJiAodGhpcy5yb290Lm9uc2Nyb2xsID0gbnVsbCkNCgkJCXRoaXMucm9vdCAmJiAodGhpcy5yb290Lm9ucmVzaXplID0gbnVsbCkNCgkJCXdpbmRvdy5vbnNjcm9sbCA9IG51bGwNCgkJCXdpbmRvdy5vbnJlc2l6ZSA9IG51bGwNCgkJfSwNCgkJYmVmb3JlQ3JlYXRlKCl7DQoJCQlidXMuJG9uKCdmb3JjZVVwZGF0ZScsKCk9Pnt0aGlzLnJlc2l6ZSgpfSkNCgkJCWJ1cy4kb24oJ21peCcsKCk9Pnt0aGlzLm1peCgpfSkNCgkJCQ0KCQl9LA0KCQkNCgkJbW91bnRlZCgpew0KCQkJdGhpcy5fX2xpc3RlblJvdXRlckNoYW5nZSgpDQoJCQl0aGlzLiRuZXh0VGljaygoKT0+ew0KCQkJCXRoaXMuaW5pdCgpDQoJCQkJdmFyIHNlbGYgPSB0aGlzOw0KCQkJCWlmKHRoaXMuaGVpZ2h0KXsNCgkJCQkJdGhpcy5yb290Lm9uc2Nyb2xsPWZ1bmN0aW9uKGUpew0KCQkJCQkJc2VsZi5fX2VtaXRMb2FkTW9yZSgpDQoJCQkJCX0NCgkJCQkJdGhpcy5yb290LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsZnVuY3Rpb24oKXsNCgkJCQkJCXNlbGYuX19lbWl0TG9hZE1vcmUoKQ0KCQkJCQl9KQ0KCQkJCX0NCgkJCQllbHNlew0KCQkJCQl3aW5kb3cub25zY3JvbGw9ZnVuY3Rpb24oZSl7DQoJCQkJCQlzZWxmLl9fZW1pdExvYWRNb3JlKCkNCgkJCQkJfQ0KCQkJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLGZ1bmN0aW9uKCl7DQoJCQkJCQlzZWxmLl9fZW1pdExvYWRNb3JlKCkNCgkJCQkJfSkNCg0KCQkJCX0NCgkJCX0pDQoJCX0NCgl9DQo="},{"version":3,"sources":["waterfall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"waterfall.vue","sourceRoot":"node_modules/vue-waterfall2","sourcesContent":["<style>\r\n\t.vue-waterfall{\r\n\t\twidth:100%;\r\n\t\toverflow-y: auto;\r\n\t\tposition: relative;\r\n\t}\r\n\t.vue-waterfall .slot-box{\r\n\t\tposition: absolute;\r\n\t\ttop: 100%;\r\n\t\tleft: 100%;\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.vue-waterfall .vue-waterfall-column{\r\n\t\tfloat: left;\r\n\t}\r\n\t.vue-waterfall.is-transition img{\r\n\t\topacity: 0;\r\n\t}\r\n\t.vue-waterfall.is-transition img.animation{\r\n\t\tanimation:0.4s  lazy-animation  linear;\r\n\t\tanimation-fill-mode: forwards;\r\n\t}\r\n\r\n\t @keyframes lazy-animation{\r\n\t\tfrom{\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t\tto{\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n</style>\r\n<template>\r\n\t<div class=\"vue-waterfall\" :style=\"{height:height}\" ref=\"vueWaterfall\" id=\"vueWaterfall\" :class=\"isTransition&&'is-transition'\" >\r\n\t\t<div class=\"slot-box\">\r\n\t\t\t<slot ></slot>\t\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nglobal.regeneratorRuntime = require(\"babel-runtime/regenerator\");\r\nimport bus from './bus'\r\n\r\n\texport default{\r\n\t\tprops:{\r\n\t\t\tcol:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:2\r\n\t\t\t},\r\n\t\t\twidth:Number,\r\n\t\t\theight:{\r\n\t\t\t\ttype:String\r\n\t\t\t\t// default:'100vh',    取消height默认值\r\n\t\t\t},\r\n\t\t\tdata:{\r\n\t\t\t\ttype:Array,\r\n\t\t\t\tdefault:[]\r\n\t\t\t},\r\n\t\t\tgutterWidth:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:10\r\n\t\t\t},\r\n\t\t\tisTransition:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:true\r\n\t\t\t},\r\n\t\t\tlazyDistance:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:300\r\n\t\t\t},\r\n\t\t\tloadDistance:{\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:300\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\troot:null,\r\n\t\t\t\tcolumns:[],\r\n\t\t\t\tloadmore:true,\r\n\t\t\t\ttimeout:null,\r\n\t\t\t\tlazyTimeout:null,\r\n\t\t\t\tlastScrollTop:0,\r\n\t\t\t\ttimer:null,\r\n\t\t\t\tloadedIndex:0,\r\n\t\t\t\tcolumnWidth:0,\r\n\t\t\t\tisresizing:false,\r\n\t\t\t\tclientHeight:document.documentElement.clientHeight || document.body.clientHeight,\r\n\t\t\t\tclientWidth:document.documentElement.clientWidth || document.body.clientWidth,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\ttrueLazyDistance(){\r\n\t\t\t\treturn this.clientWidth/375*this.lazyDistance\r\n\t\t\t},\r\n\t\t\tmax(){\r\n\t\t\t\treturn this.clientWidth/375*this.loadDistance\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tcol(val){\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdata(newVal,oldVal){\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\tclearTimeout(this.timer)\r\n\t\t\t\t\tthis.timer = setTimeout(()=>{\r\n\t\t\t\t\t\tif(this.isresizing)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(newVal.length<this.loadedIndex)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.loadedIndex = 0\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(newVal.length>oldVal.length || newVal.length>this.loadedIndex)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(newVal.length === oldVal.length)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.resize(this.loadedIndex>0?this.loadedIndex:null)\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.resize(oldVal.length>0?oldVal.length:null)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},300)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tinit(){   //initialize\r\n\t\t\t\tthis.root = this.$refs.vueWaterfall\r\n\t\t\t\tthis.clearColumn()\r\n\t\t\t\tvar col = parseInt(this.col)\r\n\t\t\t\tfor(var i =0;i<col;i++){\r\n\t\t\t\t\tlet odiv = document.createElement('div')\r\n\t\t\t\t\todiv.className = 'vue-waterfall-column'\r\n\t\t\t\t\tif(this.width)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\todiv.style.width = this.width + 'px'\r\n\t\t\t\t\t\tif(i != 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\todiv.style.marginLeft = this.gutterWidth + 'px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.columnWidth = this.width\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\todiv.style.width = 100/parseInt(col) +'%'\r\n\t\t\t\t\t\tthis.columnWidth = 100/parseInt(col)/100 * document.documentElement.clientWidth\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.root)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.root = this.$refs.vueWaterfall\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.root&&this.root.appendChild(odiv)\r\n\t\t\t\t\tthis.columns.push(odiv)\r\n\t\t\t\t}\r\n\t\t\t\tthis.resize()\r\n\t\t\t},\r\n\t\t\tasync __setDomImageHeight(dom)\r\n\t\t\t{\r\n\t\t\t\tif(!dom.getElementsByTagName)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tvar imgs = dom.getElementsByTagName('img')\r\n\t\t\t\tfor(var i=0;i<imgs.length;i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar lazySrc = imgs[i].getAttribute('lazy-src')\r\n\t\t\t\t\tif(!imgs[i].getAttribute('src')&&lazySrc)\r\n\t\t\t \t\t{\r\n\t\t\t\t\t\t var newImg = new Image()\r\n\t\t\t\t\t\t newImg.src = lazySrc\r\n\t\t\t\t\t\t if(newImg.complete)\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t \tvar trueWidth = imgs[i].offsetWidth || this.columnWidth\r\n\t\t\t\t\t\t\tvar imgColumnHeight = newImg.height*trueWidth/newImg.width\r\n\t\t\t\t\t\t\tif(imgs[i].offsetWidth)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\timgs[i].style.height = imgColumnHeight+'px'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t else{\r\n\t\t\t\t\t\t\t await new Promise((resolve,reject)=>{\r\n\t\t\t\t\t\t\t\t newImg.onload =  function(){\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t \tvar trueWidth = imgs[i].offsetWidth || this.columnWidth\r\n\t\t\t\t\t\t\t\t \tvar imgColumnHeight = newImg.height*trueWidth/newImg.width\r\n\t\t\t\t\t\t\t\t\tif(imgs[i].offsetWidth)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\timgs[i].style.height = imgColumnHeight+'px'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnewImg.onerror=  function(){\r\n\t\t\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t })\r\n\t\t\t\t\t\t }\r\n\t\t\t \t\t}\r\n\t\t\t\t}\t\t\t \t\r\n\t\t\t},\r\n\t\t\tasync append(dom){   //append dom element\r\n\t\t\t\tvar self = this\r\n\t\t\t\tif(this.columns.length>0)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet min = this.columns[0]\r\n\t\t\t\t\t\tfor(var i=1;i<this.columns.length;i++){\r\n\t\t\t\t\t\t\tif(await self.__getHeight(min)>await self.__getHeight(self.columns[i])){\r\n\t\t\t\t\t\t\t\tmin = self.columns[i]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tawait this.__setDomImageHeight(dom)\r\n\t\t\t\t\tmin && min.appendChild(dom)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcheckImg(dom){   //check has image\r\n\t\t\t\tif(!dom)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tif(dom.getElementsByTagName&&dom.getElementsByTagName(\"img\").length)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync resize(index,elements){     //resize and render\r\n\t\t\t\tthis.isresizing = true\r\n\t\t\t\tthis.routeChanged = false  // 重置routeChanged\r\n\t\t\t\tvar self = this\r\n\t\t\t\tif(!this.$slots.default){\r\n\t\t\t\t\tthis.isresizing = false\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(!index&&index!=0&&!elements)\r\n\t\t\t\t{\r\n\t\t\t\t\telements = this.$slots.default\r\n\t\t\t\t\tthis.loadedIndex = 0\r\n\t\t\t\t\tthis.clear()\r\n\t\t\t\t}\r\n\t\t\t\telse if(!elements){\r\n\t\t\t\t\tthis.loadedIndex = index\r\n\t\t\t\t\telements = this.$slots.default.splice(index)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(var j=0;j<elements.length;j++){\r\n\t\t\t\t\tif(this.routeChanged){\r\n\t\t\t\t\t\tconsole.warn('路由发生变化，<vue-waterfall>组件停止渲染')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(elements[j].elm&&self.checkImg(elements[j].elm))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar imgs = elements[j].elm.getElementsByTagName('img')\r\n\t\t\t\t\t\tvar newImg = new Image()\r\n\t\t\t\t\t\tnewImg.src = imgs[0].getAttribute('src') || imgs[0].getAttribute('lazy-src')\r\n\t\t\t\t\t\tif(newImg.complete)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tawait self.append(elements[j].elm)\t\r\n\t\t\t\t\t\t\tself.lazyLoad(imgs)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tawait new Promise( (resolve,reject)=>{\r\n\t\t\t\t\t\t\t\tnewImg.onload = async function(){\r\n\t\t\t\t\t\t\t\t\tawait self.append(elements[j].elm)\r\n\t\t\t\t\t\t\t\t\tself.lazyLoad(imgs)\r\n\t\t\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnewImg.onerror= async function(e){\r\n\t\t\t\t\t\t\t\t\tawait self.append(elements[j].elm)\r\n\t\t\t\t\t\t\t\t\tself.lazyLoad(imgs)\r\n\t\t\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tawait self.append(elements[j].elm)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.loadedIndex++\r\n\t\t\t\t}\r\n\t\t\t\tthis.isresizing = false\r\n\t\t\t\tself.$emit('finish')\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tcomputedPx(img,imgApi){\r\n\r\n\t\t\t\timg.style.width = imgApi.width/this.columnWidth\r\n\t\t\t},\r\n\t\t\tlazyLoad(imgs){  \r\n\t\t\t\tif(!imgs)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(!this.root)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.root = this.$refs.vueWaterfall\r\n\t\t\t\t\t}\r\n\t\t\t\t\timgs = this.root&&this.root.getElementsByTagName('img')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!imgs || imgs.length<0)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tfor(var index=0;index<imgs.length; index++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(imgs[index].className.match('animation')&&imgs[index].getAttribute('src'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontinue\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(imgs[index].className.match('animation')&&!imgs[index].getAttribute('src'))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timgs[index].src = imgs[index].getAttribute('lazy-src')\r\n\t\t\t\t\t\timgs[index].removeAttribute('lazy-src')\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(imgs[index].getAttribute('src')&&!imgs[index].className.match('animation')){\r\n\t\t\t\t\t\timgs[index].className = imgs[index].className + ' animation'\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!imgs[index].getAttribute('src')&&imgs[index].getBoundingClientRect().top<this.clientHeight+this.trueLazyDistance)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\timgs[index].src = imgs[index].getAttribute('lazy-src')\r\n\t\t\t\t\t\timgs[index].className = imgs[index].className + ' animation'\r\n\t\t\t\t\t\timgs[index].removeAttribute('lazy-src')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclearColumn(){\r\n\t\t\t\tthis.columns.forEach((item)=>{\r\n\t\t\t\t\titem.remove()\r\n\t\t\t\t})\r\n\t\t\t\tthis.columns=[]\r\n\t\t\t},\r\n\t\t\tclear(){\r\n\t\t\t\tthis.columns.forEach((item)=>{\r\n\t\t\t\t\titem.innerHTML = ''\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmix(){\r\n\t\t\t\tvar elements = this.$slots.default\r\n\t\t\t\telements.sort(()=>{return Math.random()-0.5})\r\n\t\t\t\tthis.resize(0,elements)\r\n\t\t\t},\r\n\t\t\tasync __getHeight(dom){\r\n\t\t\t \treturn dom.offsetHeight\r\n\t\t\t},\r\n\t\t\t__emitLoadMore(){\r\n\t\t\t\tif(!this.root)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tvar self = this\r\n\t\t\t\tconst scrollTop =  this.height?this.root.scrollTop : document.documentElement.scrollTop  || document.body.scrollTop\r\n\t\t\t\tconst scrollHeight = this.height?this.root.scrollHeight : document.documentElement.offsetHeight\r\n\t\t\t\tvar diff = scrollHeight - scrollTop - self.clientHeight\r\n\t\t\t\tself.$emit('scroll',{scrollHeight:scrollHeight,scrollTop:scrollTop,clientHeight:self.clientHeight,diff:diff,time:Date.now()})\r\n\t\t\t\tif(diff <self.max&&self.loadmore&&scrollHeight>self.clientHeight){\r\n\t\t\t\t\tself.lastScrollTop =  scrollTop\r\n\t\t\t\t\tself.loadmore = false\r\n\t\t\t\t\tself.$emit('loadmore')\r\n\t\t\t\t}\r\n\t\t\t\telse if(diff>=self.max){\r\n\t\t\t\t\tself.loadmore = true\r\n\t\t\t\t}\r\n\t\t\t\tclearTimeout(self.lazyTimeout)\r\n\t\t\t\tself.lazyTimeout = setTimeout(function(){\r\n\t\t\t\t\tself.lazyLoad()\r\n\t\t\t\t},14)\r\n\t\t\t},\r\n\r\n\t\t\t// 监听路由是否发生变化\r\n\t\t\t__listenRouterChange () {\r\n\t\t\t\t// 重写pushState与replaceState事件函数\r\n\t\t\t\tvar _wr = function (type) {\r\n\t\t\t\t\t// 记录原生事件\r\n\t\t\t\t\tvar orig = history[type];\r\n\t\t\t\t\treturn function () {\r\n\t\t\t\t\t\t// 触发原生事件\r\n\t\t\t\t\t\tvar rv = orig.apply(this, arguments);\r\n\t\t\t\t\t\t// 自定义事件\r\n\t\t\t\t\t\tvar e = new Event(type);\r\n\t\t\t\t\t\te.arguments = arguments;\r\n\t\t\t\t\t\t// 触发自定义事件\r\n\t\t\t\t\t\twindow.dispatchEvent(e);\r\n\t\t\t\t\t\treturn rv;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst events = ['replaceState','pushState']\r\n\t\t\t\tevents.forEach(event => {\r\n\t\t\t\t\twindow.addEventListener(event, ()=>{\r\n\t\t\t\t\t\tthis.routeChanged = true\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 重写history\r\n\t\t\t\t\twindow.history[event] = _wr(event)\r\n\t\t\t\t})\r\n\t\t\t\twindow.addEventListener('popstate', ()=>{\r\n\t\t\t\t\tthis.routeChanged = true\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t},\r\n\t\t\r\n\t\tdestroyed() {\r\n\t\t\tthis.root && (this.root.onscroll = null)\r\n\t\t\tthis.root && (this.root.onresize = null)\r\n\t\t\twindow.onscroll = null\r\n\t\t\twindow.onresize = null\r\n\t\t},\r\n\t\tbeforeCreate(){\r\n\t\t\tbus.$on('forceUpdate',()=>{this.resize()})\r\n\t\t\tbus.$on('mix',()=>{this.mix()})\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tmounted(){\r\n\t\t\tthis.__listenRouterChange()\r\n\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\tthis.init()\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tif(this.height){\r\n\t\t\t\t\tthis.root.onscroll=function(e){\r\n\t\t\t\t\t\tself.__emitLoadMore()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.root.addEventListener('touchmove',function(){\r\n\t\t\t\t\t\tself.__emitLoadMore()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\twindow.onscroll=function(e){\r\n\t\t\t\t\t\tself.__emitLoadMore()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.addEventListener('touchmove',function(){\r\n\t\t\t\t\t\tself.__emitLoadMore()\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>"]}]}